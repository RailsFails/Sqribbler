<% content_for :head do %>
    <%= tag 'meta', name: 'description', content: @image.description[0..155] %>

    <!-- Open Graph data -->
    <%= tag 'meta', property: 'og:title', content: @image.title %>
    <%= tag 'meta', property: 'og:author', content: @image.user.username %>
    <%= tag 'meta', property: 'og:type', content: 'article' %>
    <%= tag 'meta', property: 'og:url', content: image_url(@image) %>
    <%= tag 'meta', property: 'og:image', content: URI.join(request.url, @image.attachment.url) %>
    <%= tag 'meta', property: 'og:description', content: @image.description %>
    <%= tag 'meta', property: 'og:site_name', content: 'Sqribbler' %>
    <%= tag 'meta', property: 'og:image:width', content: @image.image_width %>
    <%= tag 'meta', property: 'og:image:height', content: @image.image_height %>

    <!-- Schema.org markup for Google+ -->
    <%= tag 'meta', itemprop: 'name', content: @image.title %>
    <%= tag 'meta', itemprop: 'description', content: @image.description %>
    <%= tag 'meta', itemprop: 'image', content: URI.join(request.url, @image.attachment.url)  %>

    <!-- Twitter Card data -->
    <%= tag 'meta', name: 'twitter:card', content: 'summary_large_image' %>
    <%= tag 'meta', name: 'twitter:title', content: @image.title %>
    <%= tag 'meta', name: 'twitter:description', content: @image.description[0..200] %>
    <%= tag 'meta', name: 'twitter:image:src', content: URI.join(request.url, @image.attachment.url) %>

<% end %>

<h1><%= @image.title %></h1>

<div id="main_image_background">
  <%= image_tag @image.attachment.url(:original), id: 'main_image' %>
</div>

<%= render partial: 'user/entry', locals: {user: @image.user} %>

<br/>

Albums:
<ul>
  <% @image.albums.order('title').each do |album| %>
      <li><%= link_to album.title, album_show_page_path(username: album.user.username, title: album.title) %></li>
  <% end %>
</ul>

<p>
  <strong>Description:</strong>
  <%= @image.description %>
</p><br/>

<%= link_to 'Edit', edit_image_path(@image) %> |
<%= link_to 'View all Images You have', images_path %>
<%= render partial: 'layouts/swipe_menu' %>